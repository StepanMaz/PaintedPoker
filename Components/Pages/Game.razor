@attribute [Route(Nav.Games + "/{id}")]
@using PaintedPoker.Game.Rules
@using PaintedPoker.Game.Services
@using PaintedPoker.Game.Table
@using PaintedPoker.Components.Game.Table
@using TableType = PaintedPoker.Game.Table.GameTable<CellMetadata, HeaderMetadata, HeaderMetadata>;
@inject GameTableService Tables

@if(Table is not null) {
    <Table GameTable="Table" />
}
else {
    <MudLink Href="@Nav.CreateGame"></MudLink>
}

@code {
    [Parameter]
    public required string Id { get; set; }

    public TableType Table { get; set; } = null!;

    protected override void OnInitialized()
    {
        Table = Tables.GetTable(new GameName(Id));
    }
}